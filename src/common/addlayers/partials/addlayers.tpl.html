<div class="modal-body">
  <form class="form-horizontal col-md-12">
    <div class="form-group">
      <div class="btn-group">
        <div class="btn-group">
          <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
            {{serverService.getServer(currentServerIndex).name}}
            <span class="caret"></span>
          </button>
          <ul class="dropdown-menu">
            <li ng-repeat="server in servers = serverService.getServers()"><a ng-click="selectServer($index)">{{server.name}}</a></li>
            <li class="divider"></li>
            <li><a data-target="#add-server-dialog" data-toggle="modal">Add New Server</a></li>
          </ul>
        </div>
        <button type="button" ng-click="serverService.refreshLayers(currentServerIndex)" class="btn btn-default"><i class="glyphicon glyphicon-repeat"></i></button>
      </div>
    </div>
    <div class="form-group">
      <input ng-model="filterLayers" type="text" class="form-control" placeholder="Filter Layers">
    </div>
    <hr>
    <div class="form-group">
      <ul id="layer-list" class="list-group">
        <li ng-repeat="layer in layers = serverService.getLayers(currentServerIndex) | filter:{added:'false'} | filter:filterLayers"
            class="list-group-item">
          <div class="row">
            <div class="col-xs-2">
              <div class="loom-check-button btn btn-xs" ng-model="layer.add" btn-checkbox btn-checkbox-true="true"
                   btn-checkbox-false="false">
                <i class="glyphicon" ng-class="{'glyphicon-unchecked': !layer.add, 'glyphicon-check': layer.add}"></i>
              </div>
            </div>
            <div class="col-xs-8 ellipsis">{{layer.title}}</div>
            <div class="col-xs-1">
              <i class="glyphicon glyphicon-info-sign"></i>
            </div>
          </div>
        </li>
      </ul>
    </div>
  </form>
</div>
<div class="modal-footer">
  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
  <button type="button" class="btn btn-primary" ng-click="addLayers()" data-dismiss="modal">Add</button>
</div>
